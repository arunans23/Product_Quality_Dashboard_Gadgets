<?xml version="1.0" encoding="UTF-8" ?>
<Module>
    <ModulePrefs title="Issues from jira"
                 height="350"
                 description="Drill Down Enabled piechart for showing issues by jira"
                 tags="drill-down">
        <Require feature="dynamic-height"/>
        <Require feature="pubsub-2"/>
    </ModulePrefs>
    <Content type="html">
        <![CDATA[

            <script src="code/highcharts.js"></script>
        <script src="code/modules/data.js"></script>
        <script src="code/modules/drilldown.js"></script>

        <script type="text/javascript" src="js/app.js"></script>

        <div id="container" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div>

        

        <script type="text/javascript">
            fetch(`https://172.17.0.1:8246/internal/product-quality/1.0.0/jira/issues/summary`, {
                    headers: {
                        Authorization: `Bearer 3f51cfe0-e1b5-3794-a01f-fcc3c3e115c9`
                    }
                })
                    .then(response => response.json())
                    .then(response => initChart(response))
                    .catch(function(error){
                        console.log(error);
                        debugger;
                    });
        </script>
        ]]>
    </Content>
</Module>