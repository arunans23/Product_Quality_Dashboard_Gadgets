<?xml version="1.0" encoding="UTF-8" ?>
<Module>
    <ModulePrefs title="Issues from jira by issueStatus"
                 height="2000"
                 description="Drill Down Enabled piechart for showing issues by issueStatus from Jira"
                 tags="drill-down">
        <Require feature="dynamic-height"/>
        <Require feature="pubsub-2"/>
    </ModulePrefs>
    <Content type="html">
        <![CDATA[

          <html>
              <head>
                  <title>
                      Sample Gadget
                  </title>

                  <meta charset="utf-8">
                  <meta http-equiv="X-UA-Compatible" content="IE=edge">
                  <meta name="viewport" content="width=device-width, initial-scale=1">
                  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
                  <title>Dashboard - WSO2 Engineering Consultant Profile</title>
                  <link href="libs/theme-wso2_1.0.0/images/favicon.png" rel="icon" type="image/png" sizes="16x16" />
                  <!-- WSO2 Theme -->
                  <link href="css/theme.css" rel="stylesheet" type="text/css" />
                  <!-- Select2 CSS -->
                  <link href="libs/select2_4.0.0/css/select2.min.css" rel="stylesheet" type="text/css" />
                  <link href="libs/animate/animate.css" rel="stylesheet" type="text/css" />
                  <!-- Font WSO2 CSS -->
                  <link href="libs/font-wso2_1.1.1/css/font-wso2.min.css" rel="stylesheet" type="text/css" />
                  <link href="libs/font-awesome_4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
                  <link href="libs/bootstrap3-editable/css/bootstrap-editable.css" rel="stylesheet">
                  <link href="css/custom.css" rel="stylesheet" type="text/css" />
                  <!--[if IE]>
                  <link href=css/theme-ie.min.css" rel="stylesheet" type="text/css" />
                  <![endif]-->
                  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
                  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
                  <!--[if lt IE 9]>
                  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
                  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
                  <![endif]-->
              </head>
              
              <body class="sticky-footer">
                  <script type="text/javascript" src="js/data.js"></script>
                  <script type="text/javascript" src="js/app.js"></script>
                  
                  <br>
                  <div class="container-fluid">
                    <div class="row box">
                            <p class='col-xs-2'>Area : </p>
                            <select id='area-choice' class="col-xs-2">
                                <option value='all'>All</option>
                                <option value='WSO2 API Manager'>API Management</option>
                                <option value='WSO2 Data Analytics Server'>Data Analytics</option>
                                <option value='WSO2 Identity Server'>Idenetity and Access Management</option>
                                <option value='WSO2 ESB'>Integration</option>
                                <option value=''>IOT</option>
                            </select>
                            
                            <p class='col-xs-2'>Product : </p>
                            <select id='product-choice' class="col-xs-2">
                                <option>Select an Area</option>
                            </select>

                            <p class='col-xs-2'>Version : </p>
                            <select id='version-choice' class="col-xs-2">
                                <option>Select a Product</option>
                            </select>
                            
        
                    </div>
                  </div>

                  <script>
                    $(function(){
                        $("#area-choice").change(function(){
                            var $areaChoice = $(this);

                            setCurrentState("1");
                            setCurrentArea($areaChoice.val());
                            callbackForStateChange("1");
                            

                            var products = WSO2_PRODUCT_COMPONENT_ISSUES_DATA.products.map(function(d){return d['name']});

                            var $productChoice = $("#product-choice");
                            
                            $productChoice.empty();
                            $productChoice.append("<option value='all'>All Products</option>");
					        
					        $.each(products, function(index, value) {
						        $productChoice.append("<option value='" + value + "'>" + value + "</option>");
					        });


                        })

                        $("#product-choice").change(function(){
                            var $productChoice = $(this);

                            setCurrentState("12");
                            setCurrentProduct($productChoice.val());
                            callbackForStateChange("12");

                            var products = WSO2_PRODUCT_COMPONENT_ISSUES_DATA.products.map(function(d){return d['name']});
                            var productIndex = products.indexOf(currentProduct);

                            var versions = WSO2_PRODUCT_COMPONENT_ISSUES_DATA.products[productIndex].version.map(function(d){return d['name']});

                            var $versionChoice = $("#version-choice");

                            $versionChoice.empty();
                            $versionChoice.append("<option value='all'>All Versions</option>");
					        
					        $.each(versions, function(index, value) {
						        $versionChoice.append("<option value='" + value + "'>" + value + "</option>");
					        });


                        })

                        $("#version-choice").change(function(){
                            var $versionChoice = $(this);

                            setCurrentState("123");
                            setCurrentVersion($versionChoice.val());
                            callbackForStateChange("123");

                            var products = WSO2_PRODUCT_COMPONENT_ISSUES_DATA.products.map(function(d){return d['name']});
                            var productIndex = products.indexOf(currentProduct);

                            var versions = WSO2_PRODUCT_COMPONENT_ISSUES_DATA.products[productIndex].version.map(function(d){return d['name']}); 
                            var versionIndex = versions.indexOf(currentVersion);

                            var components = WSO2_PRODUCT_COMPONENT_ISSUES_DATA.products[productIndex].components.map(function(d){return d['name']}); 

                            


                        })
                    })
                    
                  </script>

                  <div class = "container-fluid ">
                  <br>
                      <div class = "row">
                          <div class = "col-xs-7  content-wrap">
                              <div class="content-header" id="main-graph-header">
                                  <h5>Summary</h5>
                              </div>
                              <div class="content-body">
                                  <div  id="main-chart-container" style="min-width: window.document.body.scrollWidth; height: window.document.body.scrollHeight - 40; margin: 0 auto"></div>
                                  
                                  </div>
                          </div>

                          <div class = "col-xs-4 content-wrap">
                                  <div class="content-header" id="platform-graph-header">
                                      <h5>Platform breakdown</h5>
                                  </div>
                                  <div class="content-body">
                                      <div  id="platform-chart-container" style="min-width: window.document.body.scrollWidth; height: window.document.body.scrollHeight - 40; margin: 0 auto"></div>
                                      
                                  </div>
                              </div>

                      </div>
                      <div class = "row box">
                          <div class="col-xs-3 content-wrap">
                              <div class="content-header" id="issuetype-graph-header">
                                  <h5>Issue Type breakdown</h5>
                              </div>
                              <div class="content-body">
                                  <div  id="issuetype-chart-container" style="min-width: window.document.body.scrollWidth; height: window.document.body.scrollHeight - 40; margin: 0 auto"></div>
                                  
                              </div>
                          </div>
                          <div class="col-xs-3 content-wrap">
                              <div class="content-header" id="severity-graph-header">
                                  <h5>Severity Breakdown</h5>
                              </div>
                              <div class="content-body">
                                  <div  id="severity-chart-container" style="min-width: window.document.body.scrollWidth; height: window.document.body.scrollHeight - 40; margin: 0 auto"></div>
                                  
                              </div>
                          </div>
                          <div class="col-xs-5 content-wrap">
                              <div class="content-header" id="trend-graph-header">
                                  <h5>Historical trend</h5>
                              </div>
                              <div class="content-body">
                                  <div  id="trend-chart-container" style="min-width: window.document.body.scrollWidth; height: window.document.body.scrollHeight - 40; margin: 0 auto"></div>
                                  
                              </div>
                          </div>
                      </div>
                  </div>

                  
                  <script>
                      setTimeout(function(){
                          initCharts(response);
                      }, 1000);
                  </script>

                  <script src="code/highcharts.js"></script>
                  <script src="code/modules/data.js"></script>
                  <script src="code/modules/drilldown.js"></script>
                  <script src="code/modules/exporting.js"></script>

                  

                  <!-- jQuery (necessary for Bootstrap and WSO2 Theme JavaScript plugins) -->
                  <script src="libs/jquery_1.11.0/jquery-1.11.3.min.js"></script>
                  <script src="libs/select2_4.0.0/js/select2.full.min.js"></script>
                  <!-- Include all compiled plugins (below), or include individual files as needed -->
                  <script src="libs/bootstrap_3.3.6/js/bootstrap.min.js"></script>
                  <script src="js/theme-wso2.min.js"></script>
                  <script src="libs/bootstrap3-editable/js/bootstrap-editable.js"></script>
                  <script src="libs/tinymce_4.2.3/tinymce.min.js"></script>
                  <script src="js/script.js"></script>
                  <script src="js/dashboard.js"></script>
                  
              </body>
          </html>


        
        ]]>
    </Content>
</Module>
